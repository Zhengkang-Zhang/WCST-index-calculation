# WCST index calculation on Stefan's dataset

## Something you should know:

* Dataset: the WCST dataset we used here comes from Stefan's opensource project ([stefanradev93/DBN](https://github.com/stefanradev93/DBN)). Specifically, the "FullDataset.npy"  and  "MatchingMat.npy" file. You should download it to the same directory if you want to execute these scripts on your own.

* The prefix of each scripts indicates their order to run which mean step1 ~ step5.
* At the end, we graphed a split-half estimates example, Monte Carlo split-half estimates, of the WCST indices. Check "S5_graph_split_half_stefan.html" to see the graph.



## What's these scripts' function?

* S1~S3 are scripts that modify the raw dataset to fit our index calculation format.
* S4 is the index calculation and split-half estimates script
* S5 is an example of graph plot process of our split-half estimates results.



## How to use these scripts?



**S1_get_raw_long_wcst.py**

* **>>Require**: the "FullDataset.npy"  and  "MatchingMat.npy" file comes from Stefan's opensource project ([stefanradev93/DBN](https://github.com/stefanradev93/DBN)).
* We directly extracted the "subid", "color_rule", "shape_rule", "number_rule", "button_pressed" we needed and the "feedback" column we will use in the next script to resonate the "category_completed" index .
* **>>Output**: the "stefan_wcst_long_exp.csv" and "stefan_wcst_long_health.csv" file.



**S2_transfer_stefan_to_std.R**

* **>>Require**: the "stefan_wcst_long_exp.csv" and "stefan_wcst_long_health.csv" file.
* Reasonated the "category_completed" according to it's "feedback" index and the category switch rule of the WCST.
* Transferred the "color_rule", "shape_rule", "number_rule" and "button_pressed" indices' format (1/2/3/4) to fit ours (0/1/2/3).
* **>>Output**: the "stefan_wcst_long_exp_fixed.csv" and "stefan_wcst_long_health_fixed.csv" file.



**S3_transfer_stefan_std_to_64.R**

* **>>Require**: the "stefan_wcst_long_exp_fixed.csv" and "stefan_wcst_long_health_fixed.csv" file.
* We retained the first 64 trials for each subject.
* We removed the subid who has trials less than 64.
* **>>Output**: the "stefan_wcst_long_exp_fixed_64.csv" and "stefan_wcst_long_health_fixed_64.csv" file.



**S4_stefan_wcst_index_calculation_64.R**

* **>>Require**: the "stefan_wcst_long_exp_fixed_64.csv" and "stefan_wcst_long_health_fixed_64.csv" file.

* This R script is used to calculate WCST indices, which is the same as "[wcst_index_calculation.R](https://github.com/Zhengkang-Zhang/WCST-index-calculation)" in the main directory.

* **>>Output**: check "persistance" directory to see the "\*wcst_short\*.csv", "\*wcst_long*.csv" and maybe the "\*multi_calc_frame\*.csv". You can use these data for extensive analysise.

  

**S5_graph_split_half_stefan.Rmd**

* **>>Require**: the "persistance" directory generated by the S4 script.
* **>>Output**: Check "S5_graph_split_half_stefan.html" to see the graph.

